---
layout: post
title: "程序基础练习本"
date: 2017-10-30
tags:
    Rails
    教材
---

#成绩基础练习本

| [  1. 前言准备](https://fullstack.xinshengdaxue.com/posts/1280) |                                          |
| ---------------------------------------- | ---------------------------------------- |
| [**  2. 输入、处理、输出](https://fullstack.xinshengdaxue.com/posts/1281) |                                          |
| [**  3. 基本算术](https://fullstack.xinshengdaxue.com/posts/1282) |                                          |
| [**  4. 控制流程](https://fullstack.xinshengdaxue.com/posts/1283) |                                          |
| [**  5. 方法 Method](https://fullstack.xinshengdaxue.com/posts/1284) |                                          |
| [**  6. 循环 Loop](https://fullstack.xinshengdaxue.com/posts/1285) |                                          |
| [**  7. 数组 Array](https://fullstack.xinshengdaxue.com/posts/1286) |                                          |
| [**  8. 散列 Hash](https://fullstack.xinshengdaxue.com/posts/1287) |                                          |
| [**  9. 对象 Object](https://fullstack.xinshengdaxue.com/posts/1288) |                                          |
| [**  10. 档案处理](https://fullstack.xinshengdaxue.com/posts/1289) | 共1个作业 \|[** 未完成](https://fullstack.xinshengdaxue.com/posts/1289#task) |
| [**  11. 推荐资源](https://fullstack.xinshengdaxue.com/posts/1291) |                                          |

# 1. 前言准备

这堂课将练习编程的基础逻辑，包括：

1. 输入、处理、输出
2. 基本算术
3. 控制流程
4. 函式方法
5. 循环 Loop
6. 数组 Array
7. 散列 Hash
8. 对象 Object
9. 档案 File

难度大约是计算机本科生大一程度，也是程序员一定会的基本题。

请在 Github 上 Fork 这个专案 <https://github.com/growthschool/programming-exercise>，然后 git clone 回去：

`git clone git@github.com:your_name/programming-exercise.git`
`cd programming-exercise`

其中每个 `.rb` 档案就是一个小题目需要完成，用 `ruby 档名` 就会执行，例如：

`ruby 01-hello.rb`

就会执行第一个题目。请完成一题就 commit 一次，最后送 Pull Request 交作业。

题目看起来很多，但是其实每一题的答案只是几行代码而已，不用想太复杂。

# 2. 输入、处理、输出

### 题目 1

输入名字，输出 "Hello, 名字"

成功画面：

[![img](https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/O25JDnNBRfydQQjKzskJ_1.png)](https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/O25JDnNBRfydQQjKzskJ_1.png)

### 题目 2

交换变数 `a` 和变数 `b` 的值

### 提示说明

#### 标准萤幕输出(STDOUT)

- `puts` 会输出变量在萤幕上，并且有换行
- `print` 也会输出变量在萤幕，不会换行

#### 标准萤幕输入(STDIN)

`gets` 可以从键盘拿到输入的值。

#### 什么是变量？

让计算机(内存)记住一个值(value)，就像一个箱子📦
`=` 是赋值运算符(assignment operator)，是指派右边的值到左边的变量

在 Ruby 中，一律用小写开头命名变量，并且习惯用 `_` 底线来分隔单字，例如 `your_name`。

#### 字符串 String

- `"用双引号包起来"`
- `'或是用单引号'`
- `"如果里面有'单引号'，那就要用双引号包起来"`
- `'如果里面有"双引号"，那就要用单引号包起来'`
- `"如果你坚持双引号里面要有双引号，那你得写成 \" 做逸出"`

#### 字符串串接

用 `+` 的，例如 `"a" + "b"`

#### 字串内嵌

用 `#{}` 的语法可以将变量内嵌在字符串中

例如 `"This is #{a}"`

#### 如何注解？

在 Ruby 中用 `#` 注解。`#` 后面的字都不会执行

#### irb 交互式 Ruby 环境

执行 `irb` 可以进入 Ruby 的交互式环境，可以快速地练习进行语法实验

[![img](https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/aRRoDenSRRG28tCy0RlH_irb.png)](https://s3-ap-northeast-1.amazonaws.com/ontrackapp-production/aRRoDenSRRG28tCy0RlH_irb.png)

# 3. 基本算术

### 题目 3

输入直角三角形的底和高，输出三角形的面积(底乘高除二)

### 题目 4

输入有多少片比萨饼和多少人，输出每人可以分到几片，以及剩下几片

### 提示说明

#### 什么是数据类型？

每个值都属于一个数据类型，例如有：

- 字符串 String
- 整数 Integer (不可以有小数)
- [浮点数](https://zh.wikipedia.org/zh-cn/%E6%B5%AE%E7%82%B9%E6%95%B0) Float (可以存放小数)
- 数组 Array
- 散列 Hash

#### 整数和浮点数

- 没有小数点的就是整数，例如 `123`
- 有小数点的就是浮点数，例如 `123.0` 或 `12.3`

#### 有哪些基本算术?

- `+` 加
- `-` 减
- `*` 乘
- `/` 除
- `%` 馀数，例如 `20 % 3` 是 `2`

注意，整数除整数还是整数。只有浮点数运算的结果才会是浮点数。

例如 `10/4` 会是 `2`。要 `10.0 / 4` 才是 `2.5`

#### 型别转换 (Type Conversion)

字符串和数字是不能直接相加的，会出现 TypeError 的错误，需要先做型别转换：

- 透过 `to_i` 可以将字符串转成整数，例如 `"123".to_i` 变成 `123`
- 透过 `to_f` 可以将整数转乘浮点数，例如 `123.to_f` 变成 `123.0`
- 透过 `to_s` 可以转成字符串，例如 `123.to_s` 变成 `"123"`

注意，在 gets 中，拿到的是「字符串」，即使你输入的是数字。所以如我要做数字计算，记得先做型别转换。

> 在 Rails controller 中，params 的值也都是字符串。

#### 浮点数常用方法

四舍五入 round

```
1.4.round      #=> 1
1.5.round      #=> 2
1.6.round      #=> 2
(-1.5).round   #=> -2
```

无条件进制 ceil

```
1.2.ceil      #=> 2
2.0.ceil      #=> 2
(-1.2).ceil   #=> -1
(-2.0).ceil   #=> -2
```

无条件舍去 floor

```
1.2.floor      #=> 1
2.0.floor      #=> 2
(-1.2).floor   #=> -2
(-2.0).floor   #=> -2
```

更多请参考 [Ruby Float API](https://ruby-doc.org/core-2.4.1/Float.html)

# 4. 控制流程

### 题目 5

输入体重和身高，输出身体质量指数(BMI)和建议文字

BMI 公式为 bmi = ( 体重 / (身高x身高) )，单位是公斤和米

- 如果 BMI < 18.5，显示过轻
- 如果 BMI >= 24，显示过重
- 如果 BMI 介于 18.5 ~ 24，显示正常

### 题目 6

输入一个数字 `x`，请判断是否正数、零或负数，以及是不是偶数

### 题目 7

输入数字 `x`, `y`, `z`，请根据以下的判断输出结果

- 当 x < 0 输出 "A"
- 当 x > 0
  - 当 y > 0
  - 当 z > 0 输出 "B"
  - 当 z < 0 输出 "C"
  - 当 y < 0
  - 当 z > 0 输出 "D"
  - 当 z < 0 输出 "E"

### 题目 8

输入数字 `x`, `y`, `z`，请输出三个数中最大的数

### 提示说明

#### 布林 Boolean 数据类型

布林 Boolean 数据类型只有两种值： `true` 或 `false`

#### 关系运算子

以下这些运算子，都会回传 Boolean 值，也就是 `true` 或 `false`

- `==`
- `!=`
- `<`
- `>`
- `<=`
- `>=`

例如 `"123" == "123"` 会回传 `true`，`123 > 555` 会回传 `false`

#### 控制流程(Control Flow)

透过 Boolean 条件，就可以决定程序怎么执行

```
if 9 > 3
  # 这段会执行

else
  # 这段不会执行

end
```

更多条件的话：

```
if a > b
  # ...

elsif a == b
  # ...

else
  # ...

end
```

#### 逻辑运算子

`&&` 且

- 当 `a` 和 `b` 都是 `true` 时，`a && b` 回传 `true`
- 当 `a` 或 `b` 任一个是 `false` 时，`a && b` 回传 `false`

`||` 或

- 当 `a` 或 `b` 任一个是 `true` 时，`a || b` 回传 `true`
- 当 `a` 和 `b` 都是 `false` 时，`a || b` 回传 `false`

`!` 相反

如果 `a` 是 `true`，那 `!a` 就是 `false`。反之亦然。

透过 `&&` 和 `||`，就可以结合不同条件：

```
if ( 9 > 3 ) && ( 6 == 6)
 # ...
elsif ( 2 > 1 ) || ( 5 < 1 )
 # ...
end
```

### Boolean 转型

条件不需要一定要转成 Boolean 型态，在 Ruby 之中只要不是 `false` 或 `nil`，都会自动判断成 `true`

例如：

```
if "foobar"
  # 会执行

end
```

```
if 123
  # 会执行

end
```

```
if 0
  # 会执行

end
```

```
if ""
  # 会执行

end
```

```
if []
  # 会执行

end
```

```
if nil
  # 不会执行

end
```

# 5. 方法 Method

### 题目 9

将题目 3 计算直角三角形面积，改成调用方法

### 题目 10

将题目 8 找出三个数中最大的数，改成调用方法

### 提示说明

一些需要重复被执行的代码，可以透过定义函式包装起来，方便之后继续调用

> 有些编程语言的术语用 Function 函式，在 Ruby 中则习惯称之为 Method 方法。

#### 如何定义方法和调用

用 `def`

```
def hello
  puts "Hello"
end

hello()  # 这样会调用 hello 方法

hello    # 在 Ruby 语言中 () 可以省略
```



#### 如何带入参数

```
def hello(name)
  puts "Hello, #{name}"
end

hello("ihower")   # 这样会调用 hello 方法


hello "ihower"    # 在 Ruby 语言中 () 可以省略
```

#### 回传值

```
def get_hello(name)
  return "Hello, #{name}"
end

str = get_hello("ihower")
puts str
```

在方法中用 `return` 返回一个值，让我们可以把它存进一个变量，在后面的程序来使用。

如果没有写 `return`，该方法的最后一行的值会自动被返回。例如上述程式的 `return` 可以省略：

```
def get_hello(name)
  "Hello, #{name}"
end
```

# 6. 循环 Loop

### 题目 11

输出 1 到 100 之间，所有 7 的倍数。

### 题目 12

求 1~100 所有偶数的和

### 题目 13

输入一个数字 N，输出 N * N 乘法表，例如输入 12，输出

```
0 x 0 = 0
0 x 1 = 0
......
12 x 11 = 132
12 x 12 = 144
```

### 题目 14

输入一个数字 N，请检查是不是质数

提示：从 2 开始到 N/2 不断去除这个数字，如果可以整除就表示不是质数

### 题目 15

猜数字游戏：程序会先产生一个随机数，然后用户开始猜这个数字。

程序会针对猜的数字回答太高、太低或猜中，猜中后程序就会终止。

### 提示说明

#### 什么是循环？

就是可以重复执行某段程式码，直到满足某个条件。

```
x = 10
while x <= 10
  puts x
  x = x + 1
end
```

这个 `while` 就会一直循环，直到 x 超过 10 不满足条件，才会离开循环。

注意，如果 `while` 的终止条件没有满足，会变成无穷循环，程序就不会终止了。

#### 提前中断

在 `while` 循环中，用 `break` 关键字，会提前中断循环

# 7. 数组 Array

### 题目 16

给定一阵列内含数字，输出最大值

### 题目 17

使用者不断输入数字存进数组 Array，最后输出总和、平均、最大值、最小值

注意：如果没有输入任何东西直接按 Enter，`gets` 仍会读到一个换行符号，这是一个萤幕不可见的字符，在字符串中用 `"\n"`表示。

### 题目 18

输入数字 N，建构一个阵列有 N 的元素，内容是 0, 1, 4, 9, 16, 25...... 每个元素是该索引的平方。

例如 N = 1，则数组是 [0]
例如 N = 3，则数组是 [0,1,4]

### 题目 19

给定一数组内含数字，输出另一个数组只包含偶数

提示: 新建立一个空数组，然后走访本来的数组检查每一个元素，如果符合条件就塞进(push)进新的数组。

### 题目 20

承上题，请排序并去除重复的数字

提示：可用 `arr.sort` 健行排序，以及 `arr.uniq` 去除重复

### 题目 21

> Ruby 的 Array 数组是内建了 `.sort` 方法可排序，我们这里练习自行实作一个排序算法。

给定一数组内含数字，请实作[选择排序法](https://zh.wikipedia.org/wiki/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F)进行排序。

假设数组有N个元素，先从第一个元素走访到最后一个，找到最小的那一个交换到第一个位置。

接着从第二个元素走访到最后一个，找到最小的元素，交换到第二个位置。以此类推，最后就会得到一个从小到大的数组。

### 题目 22

给定一阵列内含数字，请输出 0~9 中不见的数字。例如 `arr = [2,2,1,5,8,4]`，输出 `[0,3,6,7,9]`

### 提示说明

#### 什么是数组？

- 一个有顺序的容器，用数字当作索引。
- 索引从 0 开始
- 原则上里面的元素，数据类型最好都是一样的，例如都存整数，或是都存字符串。

以下就是一个数组，用中括号前后包住，用逗号分隔：

```
array = [5,1,2,3,5]
```

数组里面还可以放数组，这样会变成二维数组：

```
array = [
  [1,2,3],
  [4,5,6],
  [7,8,9]
]

array[0][0] # 这是 1
array[0][1] # 这是 2
array[2][2] # 这是 9
```

#### 如何走访数组？

用 `for` 方法：

```
for i in array
  puts i
end
```

在 Ruby 中更习惯用 `each` 方法：

```
array.each do |i|
  puts i
end
```

如果走访时，需要索引值，可以改用 `each_with_index` 方法：

```
array.each_with_index do |i, j|
  puts i
  puts j   # j 从 0 开始数

end
```

#### 如何操作数组？

`array.size` 会回传数组长度

`array[1]` 会读取第二个元素

`array[1] = 999` 会更改第二的元素的值

`array[99999]` 读取一个不存在的值，会回传 `nil`

`array[0]` 或 `array.first` 是数组的第一个元素

`array[-1]` 或 `array.last` 是数组的最后一个元素

`array.push(999)` 或 `array << 999` 会新增一个元素 999 到数组的最后面

`array.unshift(999)` 会新增一个元素 999 到数组的最前面

`array.delete_at(i)` 会删除索引值在 i 的元素

更多 Ruby 的 Array 方法请参考 [Ruby Array API](https://ruby-doc.org/core-2.4.1/Array.html)

#### 字符串与数组

编程语言内部实作字符串的方式，就是将一个一个字符用数组连结起来。这就是为什么字符串也可以用数字索引操作：

```
str = "ABCDEFG"

str[0]  # 得到 "A"

str[1] = "x"
str   # 变成 "AxCDEFG"

str.split("") # 用 "" 拆开字符串，得到数组 ["A", "B", "C", "D", "E", "F", "G"]

["x", "y", "z"].join(" ") # 用 " " 串接成字符串，得到 "x y z"
```

# 8. 散列 Hash

### 题目 23

给定一散列 Hash，输出有最大值(value)的键(key)

### 题目 24

给定一散列 Hash，输出值(value)是偶数的键(keys)

注意，答案是一个数组

### 题目 25

计算一个阵列中各个元素的出现频率

### 题目 26

给定一个散列 Hash，请根据指定的键值进行过滤和排序

### 提示说明

#### 什么是散列 Hash？

用键(key)当作索引的容器，例如

`h = { "a" => 123, "b" => 456 }`

`h["a"]` 就是 123

`h["b"]` 就是 456

`h["qweqkleklwqen"]` 如果读取一个不存在的key，结果会是 nil

`h["new_key"] = 123` 如果本来没有这个 key，就会直接新增一组 key-value

#### 如何走访散列 Hash？

```
h.each do |key, value|
  puts key
  puts value
end
```

#### 常用方法

`h.keys` 会回传一个数组包括所有 keys

`h.values` 会回传一个数组包括所有 values

`h.merge(h2)` 会合并散列 h2 到散列 h

更多 Ruby 的 Hash 方法请参考 [Ruby Hash API](https://ruby-doc.org/core-2.4.1/Hash.html)

# 9. 对象 Object

### 题目 27

请自订一个 Person 对象，属性有 `first_name`, `last_name`，然后定义一个方法是 `greet` 会输出 `"Hi, <first_name> <last_name>"`

### 提示说明

#### 什么是对象?

对象(Object)也是一种数据类型，这种数据除了拥有属性，也有方法可以调用。

在 Ruby 之中，其实每种数据类型，例如 String、Integer、Float、Array、Hash 等等，也都是对象(Object)。

例如字符串的 `size` 方法和 `split` 方法：

`"abc".size` 会回传 3

`"a,b,c,d".split(",")` 会回传数组 `["a", "b", "c", "d"]`

其中 `.` 就是调用方法的意思。

#### 如何自订义对象?

需要透过类 Class 自订义 Object。Class 就像一种样板，定义出同一种类型的对象有哪些共同的属性和方法。

例如以下的代码定义了 `Car` 类：

```
class Car

  attr_accessor :color  # 这会定义属性 @color

  def run
    puts "This #{@color} car is running"
  end
end
```

有了类，就可以用 `new` 来产生出对象：

```
car1 = Car.new
car1.color = "red"
car1.run

car2 = Car.new
car2.color = "blue"
car2.run
```

#### 内建的类

刚刚说在 Ruby 之中，每种数据类型，例如 String、Integer、Float、Array、Hash 等等，也都是对象(Object)。

这些对象，其实也都是从类产生出来的，例如

`"foobar".class` 会回传 `String` 是个类

`String.new("foobar")` 等同于 `"foobar"`

`[1,2,3].class` 会回传 `Array` 是个类

`Array.new([1,2,3])` 等同于 `[1,2,3]`

不过因为这些数据类型太常用了，所以就不需要写 `.new` 来产生，直接用符号表示就可以了。

#### 什么是常数 (Constant)？

在 Ruby 中，大写开头的变量又叫做常数，指一个数值固定不变的常量。

例如：

`STATUS = ["pending", "confirmed"]`

`Pi = 3.1415926`

所有的类(Class)都是一种常数，所以这也是为什么命名类的时候一律都是大写开头。

# 10. 档案处理

### 题目 28

请打开 `wordcount.txt`，计算每个单字出现的次数

### 题目 29

请打开 `todos.txt`，其中每一行就是一个待办事项。
请编写一个程序，可以新增和删除代办事项，最后可以存盘离开。
重新执行这只程序，可以继续上次的代办事项。

注意：`gets` 读到的字符串，最后都会有一个换行符号，这是一个萤幕不可见的字符，在字符串中用 `"\n"`表示。用 `chomp` 方法可以去除字符串前后的空白和换行符号 `"\"`。

### 提示说明

#### 什么是档案？

所有正在执行中的程序和数据，都是放在内存(memory)之中。内存存取速度快，但是容量小而且一关机数据就不见了。
档案则是存在硬盘上，容量大但存取慢，但是关机重来还是继续保存着。

所谓的读取档案就是将数据从硬盘放进内存里面，让程序可以操作。反之写入档案则是将内存的数据写入硬盘进行保存。

#### 如何开档读取和写入

使用 Ruby 的 [File API](https://ruby-doc.org/core-2.4.1/File.html)：

读取档案内容：

```
file = File.open("foo.txt")
doc = file.read("foo.txt")
```

写入档案：

```
File.open("bar.txt", "w+") do |f|
  f << "aaa"
  f << "\n"
  f << "bbb"
end
```




这样就会写入 `bar.txt`，内容是 ：

```
aaa
bbb
```

#### 本节作业

##### [作业](https://fullstack.xinshengdaxue.com/assignments/58)：[作业](https://fullstack.xinshengdaxue.com/tasks/328)

已有 31 个第一期同学提交了这个作业 [**看看同学怎么做](https://fullstack.xinshengdaxue.com/tasks/328/other_answers?order=recent)

[**提交作业](https://fullstack.xinshengdaxue.com/tasks/328)

请完成练习 1~29，并提交 Pull Request，然后将 Pull Request 的网址贴上来。

# 11. 推荐资源

如果这教程对你来说偏简单，推荐你接下来买一本 [Ruby 基础教程, 人民邮电](http://www.ptpress.cn/book.aspx?id=39228)，如果你要找工作面试，请尽量念完这一本。

如果想继续练习基础编程，或是面试的公司有考算法，请练习以下的题库网站(请练习 Easy 程度程度即可，更高难度需要学完数据结构课程)

- [Coderbyte](https://coderbyte.com/challenges)
- [LeetCode Online Judge](https://leetcode.com/problemset/algorithms/) 硅谷、BAT 大公司面试必备刷题题库网站
- [Codility](https://codility.com/programmers/lessons/1-iterations/) 模拟线上算法测试，很刺激

如果这教程对你来说还是偏难太过抽象，建议你可以找啊哈磊的[小学生坐在马桶上都能看懂的编程入门书](http://www.ahalei.com/)，会用更浅显的对话和例子，用一整本书的长度来讲这教程的内容。
